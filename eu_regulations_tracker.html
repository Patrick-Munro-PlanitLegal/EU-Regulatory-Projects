<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Comprehensive EU regulations tracker and compliance overview by Planit Legal">
    <meta name="author" content="Planit Legal - Patrick Munro">
    <meta name="keywords" content="EU regulations, compliance, legal, regulatory framework, Planit Legal">
    <title>🇪🇺 EU Regulations Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #2c5aa0 0%, #1e3a5f 100%);
            --card-bg: #ffffff;
            --text-primary: #2c3e50;
            --text-secondary: #64748b;
            --text-muted: #94a3b8;
            --border-color: #e2e8f0;
            --hover-shadow: 0 10px 30px rgba(44, 90, 160, 0.15);
            --section-bg: #f8fafc;
            --accent-blue: #3b82f6;
            --success-green: #10b981;
            --warning-orange: #f59e0b;
            --error-red: #ef4444;
        }

        [data-theme="dark"] {
            --card-bg: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --border-color: #334155;
            --section-bg: #0f172a;
            --hover-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--section-bg);
            color: var(--text-primary);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        .header {
            background: var(--primary-gradient);
            color: white;
            padding: 4rem 0 3rem;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.1;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 2;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            letter-spacing: -0.02em;
        }

        .header p {
            font-size: 1.25rem;
            opacity: 0.9;
            margin-bottom: 2rem;
            max-width: 600px;
        }

        .header-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-container {
            position: relative;
            flex: 1;
            max-width: 500px;
        }

        .search-box {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            color: white;
            placeholder-color: rgba(255, 255, 255, 0.7);
            transition: all 0.3s ease;
        }

        .search-box::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-box:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.25);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .filters {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
        }

        .filter-grid {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 1rem;
            align-items: center;
        }

        .filter-select {
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.9rem;
            background: var(--card-bg);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .reset-btn {
            background: var(--accent-blue);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .reset-btn:hover {
            background: #2563eb;
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .reading-progress {
            background: var(--card-bg);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
        }

        .progress-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-blue);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 73%;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 16px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--accent-blue);
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--hover-shadow);
        }

        .stat-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            opacity: 0.8;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-blue);
            display: block;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .regulations-grid {
            display: grid;
            gap: 2rem;
        }

        .regulation-card {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: all 0.4s ease;
            position: relative;
        }

        .regulation-card:hover {
            transform: translateY(-6px);
            box-shadow: var(--hover-shadow);
        }

        .card-header {
            padding: 2rem;
            background: linear-gradient(135deg, var(--section-bg) 0%, rgba(59, 130, 246, 0.02) 100%);
            border-bottom: 1px solid var(--border-color);
        }

        .regulation-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            line-height: 1.3;
        }

        .title-icon {
            font-size: 1.8rem;
            opacity: 0.8;
            margin-top: 0.1rem;
            flex-shrink: 0;
        }

        .status-badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-block;
            margin-bottom: 1rem;
        }

        .status-in-force { 
            background: rgba(16, 185, 129, 0.1); 
            color: var(--success-green);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        .status-pending { 
            background: rgba(245, 158, 11, 0.1); 
            color: var(--warning-orange);
            border: 1px solid rgba(245, 158, 11, 0.2);
        }
        .status-development { 
            background: rgba(59, 130, 246, 0.1); 
            color: var(--accent-blue);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
        .status-consultation { 
            background: rgba(139, 92, 246, 0.1); 
            color: #8b5cf6;
            border: 1px solid rgba(139, 92, 246, 0.2);
        }
        .status-proposed { 
            background: rgba(239, 68, 68, 0.1); 
            color: var(--error-red);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .regulation-meta {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .meta-item {
            font-size: 0.85rem;
            color: var(--text-secondary);
            background: rgba(59, 130, 246, 0.08);
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .practice-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .practice-tag {
            background: var(--accent-blue);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .card-content {
            padding: 2rem;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .content-section h4 {
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .content-section ul {
            list-style: none;
            padding: 0;
        }

        .content-section li {
            padding: 0.5rem 0;
            color: var(--text-secondary);
            border-bottom: 1px solid rgba(226, 232, 240, 0.5);
            font-size: 0.9rem;
            position: relative;
            padding-left: 1.5rem;
        }

        .content-section li:before {
            content: '•';
            color: var(--accent-blue);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .content-section li:last-child {
            border-bottom: none;
        }

        .content-section p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .deadlines {
            background: rgba(245, 158, 11, 0.08);
            border: 1px solid rgba(245, 158, 11, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .deadlines h5 {
            color: var(--warning-orange);
            margin-bottom: 0.75rem;
            font-size: 1rem;
            font-weight: 600;
        }

        .deadline-item {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .deadline-item:before {
            content: '📅';
            position: absolute;
            left: 0;
        }

        .german-implementation {
            background: rgba(59, 130, 246, 0.08);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .german-implementation h5 {
            color: var(--accent-blue);
            font-size: 1rem;
            margin-bottom: 0.75rem;
            font-weight: 600;
        }

        .german-implementation p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin: 0;
            line-height: 1.5;
        }

        .footer {
            background: var(--text-primary);
            color: white;
            padding: 3rem 0;
            text-align: center;
            margin-top: 4rem;
        }

        .footer p {
            margin-bottom: 0.75rem;
            line-height: 1.8;
            opacity: 0.9;
        }

        .footer a {
            color: #60a5fa;
            text-decoration: none;
            font-weight: 600;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
            background: var(--card-bg);
            border-radius: 20px;
            border: 1px solid var(--border-color);
        }

        .no-results h3 {
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .header {
                padding: 3rem 0 2rem;
            }

            .header h1 {
                font-size: 2.25rem;
            }

            .header-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .content-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .container {
                padding: 1rem;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Smooth transitions for theme switching */
        * {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <h1>EU Regulations Tracker</h1>
            <p>Your high-level overview of EU Data Act compliance and regulatory requirements</p>
            <div class="header-controls">
                <div class="search-container">
                    <span class="search-icon">🔍</span>
                    <input type="text" class="search-box" id="searchBox" placeholder="Search regulations, terms, examples...">
                </div>
                <button class="theme-toggle" onclick="toggleTheme()">
                    <span id="themeIcon">🌙</span>
                    <span id="themeText">Dark Mode</span>
                </button>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="reading-progress">
            <div class="progress-label">Reading Progress</div>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
        </div>

        <div class="filters">
            <div class="filter-grid">
                <select class="filter-select" id="statusFilter">
                    <option value="">All Statuses</option>
                    <option value="in-force">In Force</option>
                    <option value="pending">Pending Implementation</option>
                    <option value="development">Under Development</option>
                    <option value="consultation">Consultation Phase</option>
                    <option value="proposed">Proposed</option>
                </select>
                <select class="filter-select" id="practiceFilter">
                    <option value="">All Practice Areas</option>
                    <option value="data-protection">Data Protection</option>
                    <option value="ai-algorithms">AI & Algorithms</option>
                    <option value="cybersecurity">Cybersecurity</option>
                    <option value="digital-services">Digital Services</option>
                    <option value="fintech">Fintech</option>
                    <option value="competition">Competition</option>
                    <option value="consumer-protection">Consumer Protection</option>
                </select>
                <button class="reset-btn" onclick="resetFilters()">Reset Filters</button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">📊</div>
                <span class="stat-number" id="totalRegulations">25</span>
                <div class="stat-label">Total Regulations</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">✅</div>
                <span class="stat-number" id="inForceCount">16</span>
                <div class="stat-label">In Force</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">⏳</div>
                <span class="stat-number" id="pendingCount">2</span>
                <div class="stat-label">Pending Implementation</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">🚨</div>
                <span class="stat-number" id="criticalCount">5</span>
                <div class="stat-label">Critical Priority</div>
            </div>
        </div>

        <div class="regulations-grid" id="regulationsGrid">
            <!-- Regulations will be inserted here by JavaScript -->
        </div>

        <div class="no-results" id="noResults" style="display: none;">
            <h3>No regulations found</h3>
            <p>Try adjusting your search terms or filters to find relevant regulations</p>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>Created by <strong>Patrick Munro</strong>, enhanced and polished by Claude with constitutional precision.</p>
            <p><em>EU Regulation Tracker - Your high-level overview of EU Regulations and German Acts</em></p>
            <p><strong>Disclaimer:</strong> This tool is for educational purposes only and does not constitute legal advice. For specific legal guidance, please contact Patrick Munro directly at <a href="mailto:patrick.munro.ext@planit.legal">patrick.munro.ext@planit.legal</a> or reach out to our team at Planit Legal: <a href="mailto:mail@planit.legal">mail@planit.legal</a></p>
        </div>
    </footer>

    <script>
        // Theme management
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('themeIcon');
            const themeText = document.getElementById('themeText');
            
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                themeIcon.textContent = '🌙';
                themeText.textContent = 'Dark Mode';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeIcon.textContent = '☀️';
                themeText.textContent = 'Light Mode';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                document.getElementById('themeIcon').textContent = '☀️';
                document.getElementById('themeText').textContent = 'Light Mode';
            }
        }

        const regulations = [
            {
                id: 'gdpr',
                title: 'GDPR - General Data Protection Regulation',
                icon: '🛡️',
                status: 'in-force',
                priority: 'critical',
                impact: 'high',
                practiceAreas: ['data-protection'],
                type: 'EU Regulation',
                implementationDate: '2018-05-25',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Comprehensive EU data protection framework establishing rights for individuals and obligations for data controllers.',
                keyRequirements: ['Lawful basis for processing', 'Data subject rights', 'DPIAs', 'Privacy by design', 'Breach notification (72h)'],
                sanctions: 'Up to €20M or 4% global turnover',
                germanImplementation: { act: 'BDSG', details: 'German Federal Data Protection Act with national derogations.' }
            },
            {
                id: 'ai-act',
                title: 'EU AI Act - Artificial Intelligence Regulation',
                icon: '🤖',
                status: 'in-force',
                priority: 'critical',
                impact: 'high',
                practiceAreas: ['ai-algorithms', 'data-protection'],
                type: 'EU Regulation',
                implementationDate: '2024-08-01',
                keyDeadlines: ['Feb 2025: Prohibited AI ban', 'Aug 2025: GPAI obligations', 'Aug 2026: High-risk systems'],
                description: 'First comprehensive legal framework on AI worldwide, addressing AI risks with risk-based approach.',
                keyRequirements: ['Prohibited AI practices ban', 'High-risk AI requirements', 'GPAI model obligations', 'AI literacy', 'Rights impact assessments'],
                sanctions: 'Up to €35M or 7% global turnover',
                germanImplementation: { act: 'Implementation Law (pending)', details: 'German law expected 2025 for national authorities.' }
            },
            {
                id: 'dsa',
                title: 'DSA - Digital Services Act',
                icon: '🌐',
                status: 'in-force',
                priority: 'high',
                impact: 'high',
                practiceAreas: ['digital-services', 'consumer-protection'],
                type: 'EU Regulation',
                implementationDate: '2024-02-17',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Framework for regulating digital services and online platforms for safer digital space.',
                keyRequirements: ['Content moderation', 'Transparency reporting', 'VLOP risk assessments', 'User complaints', 'External audits'],
                sanctions: 'Up to €6M or 6% global turnover',
                germanImplementation: { act: 'DDG', details: 'German Digital Services Law establishing national coordinator.' }
            },
            {
                id: 'dma',
                title: 'DMA - Digital Markets Act',
                icon: '🏛️',
                status: 'in-force',
                priority: 'high',
                impact: 'medium',
                practiceAreas: ['competition', 'digital-services'],
                type: 'EU Regulation',
                implementationDate: '2024-03-07',
                keyDeadlines: ['Ongoing gatekeeper compliance'],
                description: 'Regulation targeting large digital platforms as "gatekeepers" to ensure fair competition.',
                keyRequirements: ['Gatekeeper designation (45M+ users)', 'Interoperability', 'Data portability', 'No self-preferencing'],
                sanctions: 'Up to €10M or 10% global turnover (20% repeat)',
                germanImplementation: { act: 'Directly applicable', details: 'Bundeskartellamt as competent authority.' }
            },
            {
                id: 'data-act',
                title: 'Data Act - Access to and Use of Data',
                icon: '📊',
                status: 'pending',
                priority: 'high',
                impact: 'high',
                practiceAreas: ['data-protection', 'digital-services'],
                type: 'EU Regulation',
                implementationDate: '2025-09-12',
                keyDeadlines: ['Sep 2025: Applicability', 'Sep 2026: Connected products design'],
                description: 'Ensures fair access to data generated by connected products and related services.',
                keyRequirements: ['User data access rights', 'Third-party sharing', 'Connected product design', 'Cloud switching'],
                sanctions: 'Member State penalties TBD',
                germanImplementation: { act: 'Implementation Law (pending)', details: 'German law expected for enforcement framework.' }
            },
            {
                id: 'nis2',
                title: 'NIS2 Directive - Network and Information Security',
                icon: '🔐',
                status: 'in-force',
                priority: 'critical',
                impact: 'high',
                practiceAreas: ['cybersecurity'],
                type: 'EU Directive',
                implementationDate: '2024-10-17',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Enhanced cybersecurity framework for essential and important entities across EU.',
                keyRequirements: ['Risk management', 'Incident reporting (24h)', 'Supply chain security', 'Vulnerability handling'],
                sanctions: 'Up to €10M or 2% global turnover',
                germanImplementation: { act: 'NIS2UmsuCG', details: 'Strengthens BSI powers, extends to medium enterprises.' }
            },
            {
                id: 'dora',
                title: 'DORA - Digital Operational Resilience Act',
                icon: '🏦',
                status: 'in-force',
                priority: 'critical',
                impact: 'high',
                practiceAreas: ['cybersecurity', 'fintech'],
                type: 'EU Regulation',
                implementationDate: '2025-01-17',
                keyDeadlines: ['Jan 2025: Full applicability'],
                description: 'Digital operational resilience framework for financial services sector.',
                keyRequirements: ['ICT risk management', 'Incident reporting', 'Resilience testing', 'Third-party risk management'],
                sanctions: 'Up to €5M or 1% turnover',
                germanImplementation: { act: 'Directly applicable', details: 'BaFin/Bundesbank as authorities.' }
            },
            {
                id: 'eprivacy-ttdsg',
                title: 'ePrivacy Directive & TTDSG',
                icon: '🍪',
                status: 'in-force',
                priority: 'high',
                impact: 'medium',
                practiceAreas: ['data-protection', 'digital-services'],
                type: 'EU Directive',
                implementationDate: '2021-12-01',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Privacy rules for electronic communications and digital services, including cookie consent.',
                keyRequirements: ['Cookie consent', 'Communication confidentiality', 'Traffic data protection', 'Marketing restrictions'],
                sanctions: 'Up to €300,000 (TTDSG)',
                germanImplementation: { act: 'TTDSG', details: 'German telecom/telemedia data protection law.' }
            },
            {
                id: 'cra',
                title: 'CRA - Cyber Resilience Act',
                icon: '🔒',
                status: 'development',
                priority: 'high',
                impact: 'high',
                practiceAreas: ['cybersecurity', 'consumer-protection'],
                type: 'EU Regulation',
                implementationDate: '2027-2028',
                keyDeadlines: ['2025: Expected adoption', '2027-28: Implementation'],
                description: 'Cybersecurity requirements for products with digital elements throughout lifecycle.',
                keyRequirements: ['Cybersecurity by design', 'Vulnerability handling', 'Security updates', 'CE marking'],
                sanctions: 'Up to €15M or 2.5% global turnover',
                germanImplementation: { act: 'Implementation Law (pending)', details: 'Market surveillance authorities designation expected.' }
            },
            {
                id: 'dga',
                title: 'DGA - Data Governance Act',
                icon: '📋',
                status: 'in-force',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['data-protection'],
                type: 'EU Regulation',
                implementationDate: '2023-09-24',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Framework facilitating data sharing through trusted intermediaries and data altruism.',
                keyRequirements: ['Data intermediation service registration', 'Data altruism registration', 'Public data re-use'],
                sanctions: 'Member State specific',
                germanImplementation: { act: 'Implementation (pending)', details: 'Competent authorities for intermediation services.' }
            },
            {
                id: 'pld-reform',
                title: 'Product Liability Directive Reform',
                icon: '⚖️',
                status: 'development',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['consumer-protection', 'ai-algorithms'],
                type: 'EU Directive',
                implementationDate: 'TBD',
                keyDeadlines: ['Under legislative process'],
                description: 'Reform of product liability rules addressing AI and digital technologies.',
                keyRequirements: ['AI system liability', 'Digital product presumptions', 'Disclosure obligations', 'Software inclusion'],
                sanctions: 'Civil liability framework',
                germanImplementation: { act: 'ProdHaftG Amendment (pending)', details: 'German Product Liability Act alignment expected.' }
            },
            {
                id: 'media-freedom-act',
                title: 'European Media Freedom Act',
                icon: '📺',
                status: 'in-force',
                priority: 'medium',
                impact: 'low',
                practiceAreas: ['digital-services', 'consumer-protection'],
                type: 'EU Regulation',
                implementationDate: '2024-05-07',
                keyDeadlines: ['May 2025: Full applicability'],
                description: 'Protection of media freedom and pluralism in digital environment.',
                keyRequirements: ['Editorial independence', 'Media ownership transparency', 'Platform transparency', 'Service allocation'],
                sanctions: 'Member State specific',
                germanImplementation: { act: 'Implementation pending', details: 'Federal/state media law coordination expected.' }
            },
            {
                id: 'eidas2',
                title: 'eIDAS 2.0 - European Digital Identity',
                icon: '🆔',
                status: 'development',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['digital-services', 'cybersecurity'],
                type: 'EU Regulation',
                implementationDate: 'TBD',
                keyDeadlines: ['Under legislative process'],
                description: 'Revision creating EU Digital Identity Wallet framework.',
                keyRequirements: ['EU Digital Identity Wallet', 'Qualified e-signatures', 'Trust service providers', 'Cross-border recognition'],
                sanctions: 'TBD',
                germanImplementation: { act: 'Implementation Law (pending)', details: 'Digital Identity Wallet infrastructure needed.' }
            },
            {
                id: 'copyright-directive',
                title: 'Copyright in Digital Single Market',
                icon: '©️',
                status: 'in-force',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['digital-services', 'consumer-protection'],
                type: 'EU Directive',
                implementationDate: '2021-06-07',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Copyright rules for digital platforms and content sharing services.',
                keyRequirements: ['Upload filters', 'Content licensing', 'User complaints', 'Creator remuneration rights'],
                sanctions: 'Member State specific',
                germanImplementation: { act: 'UrhDaG', details: 'German Copyright Service Provider Act.' }
            },
            {
                id: 'platform-work',
                title: 'Platform Work Directive',
                icon: '👷',
                status: 'consultation',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['digital-services', 'consumer-protection'],
                type: 'EU Directive',
                implementationDate: 'TBD',
                keyDeadlines: ['Legislative process ongoing'],
                description: 'Working conditions and rights for platform workers.',
                keyRequirements: ['Employment status presumption', 'Algorithmic transparency', 'Data protection', 'Collective representation'],
                sanctions: 'Member State specific',
                germanImplementation: { act: 'Implementation expected', details: 'Integration with German labor law.' }
            },
            {
                id: 'machinery-regulation',
                title: 'Machinery Regulation',
                icon: '🏭',
                status: 'pending',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['ai-algorithms', 'consumer-protection'],
                type: 'EU Regulation',
                implementationDate: '2027-01-20',
                keyDeadlines: ['Jan 2027: Applicability'],
                description: 'Safety requirements for machinery, including AI-enabled machinery.',
                keyRequirements: ['Essential safety requirements', 'AI system integration', 'CE marking', 'Risk assessment'],
                sanctions: 'Market surveillance penalties',
                germanImplementation: { act: 'Implementation via ProdSG', details: 'Product Safety Act adaptation expected.' }
            },
            {
                id: 'red-directive',
                title: 'RED - Radio Equipment Directive',
                icon: '📡',
                status: 'in-force',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['cybersecurity', 'consumer-protection'],
                type: 'EU Directive',
                implementationDate: '2016-06-12',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Requirements for radio equipment including cybersecurity provisions.',
                keyRequirements: ['Essential requirements', 'Cybersecurity features', 'Privacy protection', 'Fraud prevention'],
                sanctions: 'Market surveillance penalties',
                germanImplementation: { act: 'FTEG', details: 'German Radio Equipment Act.' }
            },
            {
                id: 'political-advertising',
                title: 'Political Advertising Regulation',
                icon: '🗳️',
                status: 'development',
                priority: 'low',
                impact: 'low',
                practiceAreas: ['digital-services', 'consumer-protection'],
                type: 'EU Regulation',
                implementationDate: 'TBD',
                keyDeadlines: ['Under legislative process'],
                description: 'Transparency and targeting rules for political advertising.',
                keyRequirements: ['Political ad labeling', 'Targeting transparency', 'Sponsor identification', 'Ad archives'],
                sanctions: 'TBD',
                germanImplementation: { act: 'Implementation pending', details: 'Electoral/media law integration expected.' }
            },
            {
                id: 'medical-device-regulation',
                title: 'MDR - Medical Device Regulation',
                icon: '🏥',
                status: 'in-force',
                priority: 'high',
                impact: 'high',
                practiceAreas: ['ai-algorithms', 'consumer-protection'],
                type: 'EU Regulation',
                implementationDate: '2021-05-26',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Safety and performance requirements for medical devices including AI/ML.',
                keyRequirements: ['Clinical evaluation', 'Post-market surveillance', 'AI/ML specific requirements', 'Notified body assessment'],
                sanctions: 'Market surveillance penalties',
                germanImplementation: { act: 'Directly applicable', details: 'BfArM as competent authority.' }
            },
            {
                id: 'p2b-regulation',
                title: 'P2B - Platform-to-Business Regulation',
                icon: '🤝',
                status: 'in-force',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['digital-services', 'competition'],
                type: 'EU Regulation',
                implementationDate: '2020-07-12',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Fairness and transparency rules for online platforms and search engines.',
                keyRequirements: ['Terms and conditions transparency', 'Ranking transparency', 'Suspension procedures', 'Mediation access'],
                sanctions: 'Up to 10% annual turnover',
                germanImplementation: { act: 'Directly applicable', details: 'Bundeskartellamt enforcement.' }
            },
            {
                id: 'geo-blocking',
                title: 'Geo-blocking Regulation',
                icon: '🌍',
                status: 'in-force',
                priority: 'low',
                impact: 'low',
                practiceAreas: ['digital-services', 'consumer-protection'],
                type: 'EU Regulation',
                implementationDate: '2018-12-03',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Prohibition of unjustified geo-blocking in e-commerce.',
                keyRequirements: ['Non-discrimination principle', 'Access to websites', 'Payment methods', 'Delivery terms'],
                sanctions: 'Member State specific',
                germanImplementation: { act: 'Directly applicable', details: 'Consumer protection authorities enforcement.' }
            },
            {
                id: 'battery-regulation',
                title: 'Battery Regulation',
                icon: '🔋',
                status: 'in-force',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['consumer-protection'],
                type: 'EU Regulation',
                implementationDate: '2023-08-17',
                keyDeadlines: ['Phased implementation 2024-2030'],
                description: 'Sustainability and circularity requirements for batteries throughout lifecycle.',
                keyRequirements: ['Due diligence obligations', 'Carbon footprint declaration', 'Digital battery passport', 'Recycling targets'],
                sanctions: 'Member State specific',
                germanImplementation: { act: 'BattG Amendment', details: 'German Battery Act adaptation.' }
            },
            {
                id: 'consumer-rights-directive',
                title: 'Consumer Rights Directive',
                icon: '🛒',
                status: 'in-force',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['digital-services', 'consumer-protection'],
                type: 'EU Directive',
                implementationDate: '2014-06-13',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Consumer protection rules for distance and off-premises contracts.',
                keyRequirements: ['Pre-contractual information', 'Withdrawal rights', 'Digital content provisions', 'Delivery obligations'],
                sanctions: 'Member State specific',
                germanImplementation: { act: 'BGB Implementation', details: 'Integrated into German Civil Code.' }
            },
            {
                id: 'unfair-practices-directive',
                title: 'Unfair Commercial Practices Directive',
                icon: '🚫',
                status: 'in-force',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['digital-services', 'consumer-protection'],
                type: 'EU Directive',
                implementationDate: '2005-05-11',
                keyDeadlines: ['Ongoing compliance'],
                description: 'Protection against unfair business-to-consumer commercial practices.',
                keyRequirements: ['Misleading actions prohibition', 'Aggressive practices ban', 'Material information requirements', 'Professional diligence standard'],
                sanctions: 'Member State specific',
                germanImplementation: { act: 'UWG', details: 'German Unfair Competition Act.' }
            },
            {
                id: 'online-safety',
                title: 'Child Safety Online Framework',
                icon: '👶',
                status: 'consultation',
                priority: 'medium',
                impact: 'medium',
                practiceAreas: ['digital-services', 'consumer-protection'],
                type: 'EU Initiative',
                implementationDate: 'TBD',
                keyDeadlines: ['Consultation ongoing'],
                description: 'Enhanced protection measures for children in digital services.',
                keyRequirements: ['Age verification systems', 'Child-safe design', 'Content filtering', 'Parental controls'],
                sanctions: 'TBD',
                germanImplementation: { act: 'JuSchG amendments expected', details: 'Youth Protection Act integration.' }
            }
        ];

        let filteredRegulations = [...regulations];

        function renderRegulations() {
            const grid = document.getElementById('regulationsGrid');
            const noResults = document.getElementById('noResults');
            
            if (filteredRegulations.length === 0) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }
            
            grid.style.display = 'grid';
            noResults.style.display = 'none';
            
            grid.innerHTML = filteredRegulations.map(reg => `
                <div class="regulation-card">
                    <div class="card-header">
                        <div class="regulation-title">
                            <span class="title-icon">${reg.icon}</span>
                            <div>
                                ${reg.title}
                                <div class="status-badge status-${reg.status}">${formatStatus(reg.status)}</div>
                            </div>
                        </div>
                        <div class="regulation-meta">
                            <span class="meta-item">📋 ${reg.type}</span>
                            <span class="meta-item">⚡ ${formatPriority(reg.priority)}</span>
                            <span class="meta-item">📅 ${reg.implementationDate}</span>
                        </div>
                        <div class="practice-tags">
                            ${reg.practiceAreas.map(area => `<span class="practice-tag">${formatPracticeArea(area)}</span>`).join('')}
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="content-grid">
                            <div class="content-section">
                                <h4>✅ Key Requirements</h4>
                                <ul>
                                    ${reg.keyRequirements.map(req => `<li>${req}</li>`).join('')}
                                </ul>
                                
                                <h4>⚖️ Sanctions</h4>
                                <p>${reg.sanctions}</p>
                            </div>
                            <div class="content-section">
                                <h4>📝 Description</h4>
                                <p>${reg.description}</p>
                                
                                ${reg.keyDeadlines.length > 0 ? `
                                <div class="deadlines">
                                    <h5>🗓️ Key Deadlines</h5>
                                    ${reg.keyDeadlines.map(deadline => `<div class="deadline-item">${deadline}</div>`).join('')}
                                </div>
                                ` : ''}
                                
                                ${reg.germanImplementation ? `
                                <div class="german-implementation">
                                    <h5>🇩🇪 German Implementation</h5>
                                    <p><strong>${reg.germanImplementation.act}</strong><br>
                                    ${reg.germanImplementation.details}</p>
                                </div>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function updateStats() {
            const total = filteredRegulations.length;
            const inForce = filteredRegulations.filter(r => r.status === 'in-force').length;
            const pending = filteredRegulations.filter(r => r.status === 'pending').length;
            const critical = filteredRegulations.filter(r => r.priority === 'critical').length;
            
            document.getElementById('totalRegulations').textContent = total;
            document.getElementById('inForceCount').textContent = inForce;
            document.getElementById('pendingCount').textContent = pending;
            document.getElementById('criticalCount').textContent = critical;
        }

        function filterRegulations() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            const statusFilter = document.getElementById('statusFilter').value;
            const practiceFilter = document.getElementById('practiceFilter').value;
            
            filteredRegulations = regulations.filter(reg => {
                const matchesSearch = !searchTerm || 
                    reg.title.toLowerCase().includes(searchTerm) ||
                    reg.description.toLowerCase().includes(searchTerm) ||
                    reg.keyRequirements.some(req => req.toLowerCase().includes(searchTerm)) ||
                    reg.practiceAreas.some(area => formatPracticeArea(area).toLowerCase().includes(searchTerm));
                
                const matchesStatus = !statusFilter || reg.status === statusFilter;
                const matchesPractice = !practiceFilter || reg.practiceAreas.includes(practiceFilter);
                
                return matchesSearch && matchesStatus && matchesPractice;
            });
            
            renderRegulations();
            updateStats();
        }

        function resetFilters() {
            document.getElementById('searchBox').value = '';
            document.getElementById('statusFilter').value = '';
            document.getElementById('practiceFilter').value = '';
            filteredRegulations = [...regulations];
            renderRegulations();
            updateStats();
        }

        function formatStatus(status) {
            const statusMap = {
                'in-force': 'In Force',
                'pending': 'Pending Implementation',
                'development': 'Under Development',
                'consultation': 'Consultation Phase',
                'proposed': 'Proposed'
            };
            return statusMap[status] || status;
        }

        function formatPriority(priority) {
            const priorityMap = {
                'critical': 'Critical',
                'high': 'High',
                'medium': 'Medium',
                'low': 'Low'
            };
            return priorityMap[priority] || priority;
        }

        function formatPracticeArea(area) {
            const areaMap = {
                'data-protection': 'Data Protection',
                'ai-algorithms': 'AI & Algorithms',
                'cybersecurity': 'Cybersecurity',
                'digital-services': 'Digital Services',
                'fintech': 'Fintech',
                'competition': 'Competition',
                'consumer-protection': 'Consumer Protection'
            };
            return areaMap[area] || area;
        }

        // Event listeners
        document.getElementById('searchBox').addEventListener('input', filterRegulations);
        document.getElementById('statusFilter').addEventListener('change', filterRegulations);
        document.getElementById('practiceFilter').addEventListener('change', filterRegulations);

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadTheme();
            renderRegulations();
            updateStats();
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === '/') {
                e.preventDefault();
                document.getElementById('searchBox').focus();
            }
            if (e.key === 'Escape') {
                resetFilters();
            }
        });
    </script>
</body>
</html>